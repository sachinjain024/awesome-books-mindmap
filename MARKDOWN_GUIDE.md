# üìù Markdown-Based Eleventy System

## ‚úÖ What Changed

Successfully restructured the Eleventy system to use **Markdown files** instead of JSON for content.

### Why Markdown?

Since your content is **generated by LLMs**, Markdown is the ideal format:

1. **‚úÖ LLM-Native** - AI models naturally generate clean markdown
2. **‚úÖ Human-Readable** - Easy to review and edit
3. **‚úÖ Version Control Friendly** - Beautiful git diffs
4. **‚úÖ No Escaping** - No quotes, braces, or JSON syntax errors
5. **‚úÖ Front Matter** - YAML metadata at the top of each file

---

## üìÅ New Structure

```
src/books/the-stoic-mind/
‚îú‚îÄ‚îÄ book.md                    # Book index page (with metadata)
‚îî‚îÄ‚îÄ chapters/
    ‚îú‚îÄ‚îÄ chapter-01.md          # Chapter 1 content
    ‚îú‚îÄ‚îÄ chapter-02.md          # Chapter 2 content
    ‚îî‚îÄ‚îÄ ...                    # All 25 chapters
```

---

## üìñ Book File Format

### `book.md` - Main Index Page

```markdown
---
title: The Stoic Mind
subtitle: A Visual Exploration of Stoic Philosophy
authors: Addy Osmani & GoLimitlesss
slug: the-stoic-mind

epigraph:
  quote: "You have power over your mind ‚Äî not outside events."
  author: Marcus Aurelius

centralNode:
  title: THE STOIC MIND
  subtitle: Ancient Wisdom for Modern Life

sections:
  - title: WORK, LIFE & ACTION
    chapters:
      - number: 1
        title: Work is a Subset of Life, Not a Superset
        description: Understanding the Stoic perspective...

      - number: 2
        title: Change What You're Doing
        description: The power of deliberate actions...

  - title: CONFIDENCE & COMMUNICATION
    chapters:
      - number: 4
        title: Confidence is Calm
        subtitle: Ego Makes a Lot of Noise
        description: Exploring the dichotomy...

keyTeachings:
  - principle: "The Dichotomy of Control:"
    description: Focus your energy only on what you can influence

  - principle: "Discipline Over Motivation:"
    description: Build systems that don't depend on feelings

layout: book-index
permalink: the-stoic-mind/index.html
---

## About This Book

**The Stoic Mind** is a visual guide that connects ancient Stoic
wisdom to modern life. Through 25 chapters, it offers practical
principles for navigating work, relationships, and personal growth.

This mind map presents the book's teachings in an accessible format.
```

---

## üìÑ Chapter File Format

### `chapters/chapter-01.md` - Individual Chapter

```markdown
---
number: 1
title: Work is a Subset of Life, Not a Superset
meta: Understanding the Stoic Perspective on Balance
part: Work, Life & Action
layout: chapter
book: the-stoic-mind
permalink: the-stoic-mind/chapters/chapter-01.html
---

> "It is not that we have a short time to live, but that we waste a lot of it."
> ‚Äî Seneca

## The Modern Imbalance

In today's hyperconnected world, it's easy to let work consume everything.
We check emails at dinner, take calls during family time, and let professional
stress bleed into every corner of our existence.

**Work exists to serve life, not the other way around.**

### The Stoic Principle

Work is a vehicle for expressing virtue and contributing to society, but it
should never eclipse the broader purpose of living well. The goal is
*eudaimonia* ‚Äî human flourishing.

## Signs Your Work Has Become the Superset

- You feel guilty when you're not being "productive"
- Your identity is almost entirely tied to your profession
- Personal relationships suffer because work "always comes first"
- You measure your worth by output rather than character
- Rest feels like wasted time rather than necessary renewal

## Key Takeaways

- Work serves life, not the reverse ‚Äî keep this hierarchy clear
- Your identity should be broader than your job title
- Hard work is virtuous, but not at the expense of living fully
- Set boundaries that protect the non-work domains of your life
```

---

## ü§ñ LLM Prompt Template

### Prompt for Generating a New Book

```
Create a book.md file for [BOOK TITLE] by [AUTHOR] with the following structure:

YAML Front Matter:
- title, subtitle, authors, slug
- epigraph (quote + author)
- centralNode (main title + subtitle)
- sections (array of sections, each with title and chapters array)
  - Each chapter needs: number, title, optional subtitle, description
- keyTeachings (array with principle + description)
- layout: book-index
- permalink: [slug]/index.html

Markdown Content:
- ## About This Book section
- 2-3 paragraphs explaining what the book covers
- Keep it clear and concise

Output as valid markdown with YAML front matter.
```

### Prompt for Generating a Chapter

```
Create chapter-[XX].md for Chapter [NUMBER]: "[CHAPTER TITLE]"

YAML Front Matter:
- number: [chapter number]
- title: "[Full chapter title]"
- meta: "[Brief subtitle/context]"
- part: "[Section name]"
- layout: chapter
- book: [book-slug]
- permalink: [book-slug]/chapters/chapter-[XX].html

Markdown Content Structure:
1. Opening quote (> blockquote format with attribution)
2. Introduction section (## heading)
3. 3-5 main sections (## headings)
4. Use **bold** for emphasis, *italic* for terms
5. Bullet lists for key points
6. Blockquotes for notable quotes
7. End with ## Key Takeaways (3-6 bullet points)

Write in clear, accessible language. Make it educational but engaging.
```

---

## ‚ú® Example: LLM Generating a New Book

### Input to LLM:

```
Generate a book.md file for "The Psychology of Money" by Morgan Housel.

The book has 20 chapters organized into these themes:
- Wealth & Behavior (Chapters 1-5)
- Risk & Luck (Chapters 6-10)
- Compounding & Patience (Chapters 11-15)
- Freedom & Happiness (Chapters 16-20)

Use the format from the template above.
```

### LLM Output:

```markdown
---
title: The Psychology of Money
subtitle: Timeless Lessons on Wealth, Greed, and Happiness
authors: Morgan Housel
slug: psychology-of-money

epigraph:
  quote: "Doing well with money has little to do with how smart you are and a lot to do with how you behave."
  author: Morgan Housel

centralNode:
  title: THE PSYCHOLOGY OF MONEY
  subtitle: Timeless Lessons on Wealth

sections:
  - title: WEALTH & BEHAVIOR
    chapters:
      - number: 1
        title: No One's Crazy
        description: Your personal experiences make up 0.00000001% of what's happened in the world, but maybe 80% of how you think it works.

      - number: 2
        title: Luck & Risk
        description: Nothing is as good or as bad as it seems.

  # ... more sections ...

keyTeachings:
  - principle: "Wealth vs Rich:"
    description: Wealth is what you don't see ‚Äî money not spent

  - principle: "Time in the Market:"
    description: Compounding requires uninterrupted time

layout: book-index
permalink: psychology-of-money/index.html
---

## About This Book

**The Psychology of Money** explores the strange ways people think about
money and teaches you how to make better financial decisions. Rather than
focusing on complex formulas, it reveals the behavioral patterns that
determine financial success.

Through 20 chapters, Morgan Housel shares timeless lessons about wealth,
greed, and happiness ‚Äî showing that doing well with money is more about
behavior than intelligence.
```

---

## üéØ Workflow for Adding a New Book

### 1. Generate Book Structure (LLM)

**Prompt:**
```
Create a book.md file for "[BOOK TITLE]" by [AUTHOR].
Include [NUMBER] chapters organized into [NUMBER] sections.
Use the YAML front matter format with sections/chapters arrays.
```

**Save as:** `src/books/[book-slug]/book.md`

### 2. Generate Each Chapter (LLM)

**Prompt (for each chapter):**
```
Generate chapter-[XX].md for Chapter [NUMBER] of [BOOK TITLE].

Chapter title: "[TITLE]"
Chapter theme: [Brief description]

Include:
- Opening quote
- 3-5 main sections with ## headings
- Bullet points for key concepts
- Key Takeaways section at the end

Write in clear, engaging language.
```

**Save as:** `src/books/[book-slug]/chapters/chapter-[XX].md`

### 3. Build the Site

```bash
npm run build
```

**Output:**
- `_site/[book-slug]/index.html` (index page)
- `_site/[book-slug]/chapters/chapter-[XX].html` (all chapters)

---

## üìä Before vs After

### Before (JSON)

```json
{
  "title": "The Stoic Mind",
  "chapters": [
    {
      "number": 1,
      "title": "Work is a Subset of Life, Not a Superset",
      "description": "Understanding the Stoic perspective..."
    }
  ]
}
```

**LLM Challenges:**
- Must escape quotes: `"\"quoted text\""`
- Must close all braces
- Syntax errors break everything
- Hard to read/edit

### After (Markdown)

```markdown
---
title: The Stoic Mind
sections:
  - title: WORK, LIFE & ACTION
    chapters:
      - number: 1
        title: Work is a Subset of Life, Not a Superset
        description: Understanding the Stoic perspective...
---

## About This Book

**The Stoic Mind** is a visual guide...
```

**LLM Advantages:**
- ‚úÖ Natural format for LLMs
- ‚úÖ No escaping needed
- ‚úÖ Readable YAML front matter
- ‚úÖ Markdown content (LLM native)
- ‚úÖ Forgiving syntax

---

## üöÄ Quick Commands

```bash
# Build the site
npm run build

# Development mode (auto-rebuild + live reload)
npm run dev

# View generated index
open _site/the-stoic-mind/index.html

# View generated chapter
open _site/the-stoic-mind/chapters/chapter-01.html
```

---

## üìù Markdown Tips for LLMs

### Headings
```markdown
# H1 - Page Title (rarely used in content)
## H2 - Main Sections
### H3 - Subsections
```

### Emphasis
```markdown
**Bold text** for important terms
*Italic text* for emphasis or foreign terms
```

### Lists
```markdown
- Unordered list item
- Another item
  - Nested item

1. Ordered list item
2. Second item
```

### Blockquotes
```markdown
> "This is a quote."
> ‚Äî Author Name

> Multi-line quote
> continues here.
```

### Links
```markdown
[Link text](url)
[Chapter 2](chapter-02.html)
```

---

## üé® Styling in Markdown

For special boxes (principle-box, practice-exercise, etc.), use HTML directly in markdown:

```markdown
<div class="principle-box">

### The Stoic Principle

Work is a vehicle for expressing virtue...

</div>
```

Or use our approach with semantic markdown:

```markdown
### The Stoic Principle

Work is a vehicle for expressing virtue...

---

### Daily Practice: The Life Audit

- At the end of each day, list what you did outside of work
- Ask: "Did I nurture relationships?"
```

Then style with CSS based on heading text.

---

## ‚úÖ Benefits for Your Workflow

### 1. LLM Generation is Easier
```
Prompt: "Generate chapter-05.md for Chapter 5 of The Stoic Mind"

LLM outputs clean markdown ‚Üí Save to file ‚Üí Build ‚Üí Done!
```

### 2. Editing is Natural
```markdown
# Before (JSON - error prone)
"description": "Understanding the Stoic perspective..."

# After (Markdown - natural)
description: Understanding the Stoic perspective...
```

### 3. Version Control is Clean
```diff
# Git diff shows clear content changes
- title: Old Chapter Title
+ title: New Chapter Title

## About This Book

-Old content here
+New content here
```

### 4. No Syntax Errors
- No missing commas
- No unclosed braces
- No quote escaping
- Just write naturally!

---

## üîÑ Migration Path

### For Existing Books

**Option 1: Manual Conversion**
1. Copy content from HTML to Markdown
2. Add YAML front matter
3. Build and verify

**Option 2: LLM Conversion**
```
Prompt: "Convert this HTML chapter to markdown format with YAML front matter:

[paste HTML here]

Extract: title, meta description, main content
Format as: markdown with front matter
Include: chapter number, title, permalink"
```

**Option 3: Script Conversion**
- Write a Node.js script to parse HTML
- Extract content and metadata
- Generate markdown files
- Automated but requires coding

---

## üìñ Example: Full Book Generation

### Step 1: Create Book Structure

```bash
mkdir -p src/books/psychology-of-money/chapters
```

### Step 2: Generate book.md (LLM)

**Prompt:**
```
Create book.md for "The Psychology of Money" by Morgan Housel
with 20 chapters in 4 sections. Follow the YAML front matter format.
```

### Step 3: Generate All Chapters (LLM)

**Prompt (repeated 20 times):**
```
Generate chapter-[XX].md for Chapter [NUMBER]: "[TITLE]"
Include: front matter, opening quote, 3-5 sections, key takeaways.
```

### Step 4: Build

```bash
npm run build
```

### Step 5: Verify

```bash
open _site/psychology-of-money/index.html
```

**Total time:** ~30 minutes with LLM assistance!

---

## üéØ Success Metrics

### Before (HTML)
- ‚è±Ô∏è 2-3 hours to create a new book manually
- ‚ùå High error rate (HTML syntax)
- üò∞ Stressful for non-technical contributors

### After (Markdown + LLM)
- ‚è±Ô∏è 30 minutes with LLM generation
- ‚úÖ Low error rate (forgiving syntax)
- üòä Easy for anyone with LLM access

---

## ü§ñ Recommended LLM Workflow

1. **Define book structure** (sections, chapter count)
2. **Generate book.md** (one prompt)
3. **Generate chapters** (batch prompts)
4. **Review and edit** (markdown is easy to scan)
5. **Build** (`npm run build`)
6. **Deploy** (`_site/` folder)

**Time per book:** 20-40 minutes
**Effort level:** Low (LLM does heavy lifting)
**Error rate:** Minimal (markdown is forgiving)

---

## üìö Next Steps

1. ‚úÖ **Current:** The Stoic Mind (1 book, 2 pages)
2. üîÑ **Next:** Generate remaining 24 chapters
3. üöÄ **Scale:** Generate all 35+ books

With markdown + LLM, you can realistically migrate all books in a weekend!

---

**Status:** ‚úÖ Markdown-Based System Working
**Build Time:** < 0.1 seconds
**LLM-Friendly:** ‚úÖ Yes!
**Recommendation:** Use this format for all new books!
